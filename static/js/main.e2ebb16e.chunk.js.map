{"version":3,"sources":["settings.ts","utils.ts","components/Chord.tsx","components/StyleProvider.tsx","components/Notes.tsx","components/Stave.tsx","components/Sheet.tsx","tunes/HopHighLadies.tsx","tunes/WorriedMansBlues.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["textCharCentreOffset","range","length","Array","from","keys","getStringFrets","strings","map","stringIndex","fret","filter","undefined","isNaN","parseInt","alphaIndex","indexOf","toString","getHighestStringIndex","stringFrets","Chord","chord","noteX","staveY","width","x","Settings","y","defaultState","barsPerStave","showNotes","StyleContext","React","useStyle","useContext","StyleProvider","props","Provider","value","children","SingleNote","tuning","useSheet","Utils","scale","split","stringNote","toLowerCase","reverse","stringNoteIndex","lowestStringIndex","noteTailY1","noteTailY2","lineSpacing","noteCentreX","noteY","key","x1","y1","x2","y2","strokeWidth","stroke","DoubleNote","horizontalLineY","horizontalLineX1","horizontalLineX2","strings1","strings2","BrushNote","SlurNote","highestString1","highestString2","arcX1","arcX2","arcY1","arcY2","arcControlX1","arcControlX2","arcControlY1","arcControlY2","arcControlY","Math","min","labelLength","label","labelX","labelY","d","fill","HammerOnNote","PullOffNote","SlideNote","Note","noteType","BarLine","StaveLine","Stave","meter","barWidth","noteSpaceWidth","staveWidth","barNotes","i","notes","barIndex","barX","noteString","noteIndex","s","trim","reduce","acc","part","toUpperCase","substr","SheetContext","Sheet","title","sheetState","staveBarNotes","note","floor","noteIndexInBar","staveIndex","barIndexInStave","sheetHeight","staveHeight","height","HopHighLadies1","HopHighLadies2","useEffect","document","WorriedMansBluesOriginal","WorriedMansBluesOctaveUpV1","App","useState","setShowNotes","className","to","type","id","checked","onClick","htmlFor","path","WorriedMansBlues","HopHighLadies","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"qQAQaA,GACP,IADOA,EAER,E,OCVQC,EAAQ,SAACC,GAAD,OAAoBC,MAAMC,KAAKD,MAAMD,GAAQG,SAErDC,EAAiB,SAACC,GAAD,OAC5BN,EAAM,GACHO,KAAI,SAAAC,GAAW,MAAK,CAAEA,cAAaC,MAAM,OAACH,QAAD,IAACA,IAAW,IAAIE,OACzDE,QAAO,gBAAGD,EAAH,EAAGA,KAAH,YAAuBE,IAATF,GAA+B,MAATA,KAC3CF,KAAI,YAA4B,IAAzBC,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,KACnB,GAAIG,MAAMC,SAASJ,IAAQ,CACzB,IACMK,EADW,uBACWC,QAAQN,GACpC,IAAoB,IAAhBK,EAEF,MAAO,CAAEN,cAAaC,MADE,GAAKK,GACeE,YAGhD,MAAO,CAAER,cAAaC,YAafQ,EAAwB,SAACX,GAAqB,IAAD,EAClDY,EAAcb,EAAeC,GAEnC,GAA2B,IAAvBY,EAAYjB,OAIhB,iBAAOiB,EAAY,UAAnB,aAAO,EAAgBV,aChCZW,EAAQ,SAAC,GAKf,IALiBC,EAKlB,EALkBA,MAAOC,EAKzB,EALyBA,MAAOC,EAKhC,EALgCA,OAAQC,EAKxC,EALwCA,MAM5C,IAAKH,EACH,OAAO,KAET,IAAMI,EAAIH,EAAQE,EAAQ,EAAIH,EAAMnB,OAASwB,EACvCC,EAAIJ,EAAS,GAA6BG,EAChD,OACE,uBAAU,CAAED,IAAGE,KAAMN,ICNnBO,EAA2B,CAC/BC,aHJiC,EGKjCC,WAAW,GAGPC,EAAeC,gBAAgCJ,GAExCK,EAAW,kBAAMC,qBAAWH,IAE5BI,EAA8D,SAAAC,GAAK,OAC9E,gBAACL,EAAaM,SAAd,CAAuBC,MAAK,eACvBV,EADuB,GAEvBQ,IACDA,EAAMG,WCTCC,EAAa,SAAC,GAAyC,IAAD,EAAtCf,EAAsC,EAAtCA,EAAGE,EAAmC,EAAnCA,EAAGH,EAAgC,EAAhCA,MAAOjB,EAAyB,EAAzBA,QAChCkC,EAAWC,IAAXD,OACAX,EAAcG,IAAdH,UACFX,EAAcwB,EAAqBpC,GACtCC,KAAI,YAA0B,IAAxBC,EAAuB,EAAvBA,YAAaC,EAAU,EAAVA,KAClB,OAAGoB,EAEM,CAACrB,cAAaC,KAAMA,EHkBZ,SAAC+B,EAAgBhC,EAAqBC,GAC3D,IAAMkC,EAAQ,8CAA+BC,MAAM,KAC7CC,EAAaL,EAAOM,cAAcF,MAAM,IAAIG,UAAUvC,GACtDwC,EAAkBL,EAAM5B,QAAQ8B,GAKtC,OAFiBF,GAAOK,EAFNnC,SAASJ,IAE4BkC,EAAM1C,QGzBtCyC,CAAcF,EAAQhC,EAAaC,IAG/C,CAACD,cAAaC,WAInBwC,EAAiB,UHRW,SAAC3C,GAAqB,IAAD,EACjDY,EAAcb,EAAeC,GAEnC,GAA2B,IAAvBY,EAAYjB,OAIhB,iBAAOiB,EAAYA,EAAYjB,OAAS,UAAxC,aAAO,EAAqCO,YGClBkC,CAA2BpC,UAA9B,QAA0C,EAC3D4C,EAAaxB,EJ1BM,II0BsBuB,EAAoB,IAC7DE,EAAazB,EJzBY0B,GAFN,GI4BnBC,EAAc7B,EAAY,GAARD,EAExB,OACE,gCACGL,EACEX,KAAI,YAA4B,IAAzBC,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,KACbY,EAAQgC,EAAc5B,EAAkChB,EAAKR,OAC7DqD,EAAQ5B,EJnCG,GImCClB,EAAqCiB,EACvD,OAAO,wBAAM8B,IAAK/C,EAAagB,EAAGH,EAAOK,EAAG4B,GAAQ7C,MAExD,wBAAM+C,GAAIH,EAAaI,GAAIP,EAAYQ,GAAIL,EAAaM,GAAIR,EAAYS,YAAa,EAAGC,OAAO,YAKxFC,EAAa,SAAC3B,GACzB,IAAM4B,EAAkB5B,EAAMT,EJ1CC0B,GAFN,GI6CnBY,EAAmB7B,EAAMX,EAAkB,IAAdW,EAAMZ,MJjCC,GIkCpC0C,EAAmB9B,EAAMX,EAAkB,IAAdW,EAAMZ,MJlCC,GI+BI,EAIjBY,EAAM7B,QAAQsC,MAAM,KAJH,mBAIvCsB,EAJuC,KAI7BC,EAJ6B,KAK9C,OACE,gCACE,gBAAC,EAAD,CAAY7D,QAAS4D,EAAU3C,MAAqB,GAAdY,EAAMZ,MAAYC,EAAGW,EAAMX,EAAGE,EAAGS,EAAMT,IAC7E,gBAAC,EAAD,CAAYpB,QAAS6D,EAAU5C,MAAqB,GAAdY,EAAMZ,MAAYC,EAAGW,EAAMX,EAAkB,GAAdW,EAAMZ,MAAYG,EAAGS,EAAMT,IAChG,wBAAM8B,GAAIQ,EAAkBP,GAAIM,EAAiBL,GAAIO,EAAkBN,GAAII,EAAiBH,YAAa,EAAGC,OAAO,YAK5GO,EAAY,SAACjC,GAAD,OAAsB,gBAAC,EAAD,CAAYX,EAAGW,EAAMX,EAAGE,EAAGS,EAAMT,EAAGH,MAAOY,EAAMZ,MAAOjB,QAAS6B,EAAM7B,QAAU,YAEnH+D,EAAW,SAAClC,GAElB,IAAD,MACyBA,EAAM7B,QAAQsC,MAAM,KAD7C,mBACGsB,EADH,KACaC,EADb,KAEEG,EAAc,UAAG5B,EAA4BwB,UAA/B,QAA4C,EAC1DK,EAAc,UAAG7B,EAA4ByB,UAA/B,QAA4C,EAE1DK,EAAQrC,EAAMX,EAAkB,IAAdW,EAAMZ,MACxBkD,EAAQtC,EAAMX,EAAkB,IAAdW,EAAMZ,MACxBmD,EAAQvC,EAAMT,EJpEK,IIoEA4C,EAAiB,IACpCK,EAAQxC,EAAMT,EJrEK,IIqEA6C,EAAiB,IAEpCK,EAAeJ,EAAQ,EACvBK,EAAeJ,EAAQ,EACvBK,EAAeJ,EAAQ,EACvBK,EAAeJ,EAAQ,EACvBK,EAAcC,KAAKC,IAAIJ,EAAcC,GAErCI,EAAchD,EAAMiD,MAAMnF,OAC1BoF,EAASlD,EAAMX,EAAI,GAAMW,EAAMZ,MAAQE,EAAkC0D,EACzEG,EAASnD,EAAMT,EJ7EU0B,GI6EmB,GAA2B3B,EAE7E,OACE,gCACE,gBAAC,EAAD,CAAYD,EAAGW,EAAMX,EAAGE,EAAGS,EAAMT,EAAGH,MAAOY,EAAMZ,MAAOjB,QAAS6B,EAAM7B,UACvE,wBAAMiF,EAAC,YAAOf,EAAP,YAAgBE,EAAhB,cAA2BE,EAA3B,YAA2CI,EAA3C,aAA2DH,EAA3D,YAA2EG,EAA3E,aAA2FP,EAA3F,YAAoGE,GAASd,OAAO,QAAQD,YAAa,EAAG4B,KAAK,gBACxJ,wBAAMhE,EAAG6D,EAAQ3D,EAAG4D,GAASnD,EAAMiD,SAK5BK,EAAe,SAACtD,GAAD,OAAsB,gBAAC,EAAD,iBAAcA,EAAd,CAAqBiD,MAAM,QAEhEM,EAAc,SAACvD,GAAD,OAAsB,gBAAC,EAAD,iBAAcA,EAAd,CAAqBiD,MAAM,QAE/DO,EAAY,SAACxD,GAAD,OAAsB,gBAAC,EAAD,iBAAcA,EAAd,CAAqBiD,MAAM,SAE7DQ,EAAO,SAACzD,GACnB,OAAQA,EAAM0D,UACZ,IAAK,IACH,OAAO,gBAAC,EAAc1D,GACxB,IAAK,IACH,OAAO,gBAAC,EAAiBA,GAC3B,IAAK,IACH,OAAO,gBAAC,EAAgBA,GAC1B,IAAK,IACH,OAAO,gBAAC,EAAcA,GACxB,IAAK,IACH,OAAO,gBAAC,EAAeA,GACzB,IAAK,IACH,OAAO,gBAAC,EAAeA,GACzB,QACE,OAAO,OCxGP2D,EAAU,SAAC3D,GAAD,OAGV,wBAAMqB,GAAIrB,EAAMX,EAAGiC,GAAItB,EAAMT,EAAGgC,GAAIvB,EAAMX,EAAGmC,GAAIxB,EAAMT,ELR5B0B,GKQwDQ,YAAa,EAAGC,OAAO,WAE1GkC,EAAY,SAAC5D,GAAD,OAGZ,wBAAMqB,GLdiB,GKcOC,GAAItB,EAAMT,EAAGgC,GLdpB,GKc6CvB,EAAMZ,MAAOoC,GAAIxB,EAAMT,EAAGkC,YAAa,EAAGC,OAAO,WAE9GmC,EAAQ,SAAC7D,GAGf,IACGP,EAAiBI,IAAjBJ,aACAqE,EAAUxD,IAAVwD,MACFC,EAAW,kBLnBa3E,IKmBiBK,GACzCuE,EAAiBD,IAAaD,EAC9BG,EAAaF,IAAa/D,EAAMkE,SAASpG,OAC/C,OACE,gCACGyC,EAAY,GAAGnC,KAAI,SAAA+F,GAAC,OAAI,gBAAC,EAAD,CAAW/C,IAAK+C,EAAG5E,EAAGS,EAAMT,EL5BhC,GK4BoC4E,EAA0B/E,MAAO6E,OACzF1D,EAAYP,EAAMkE,SAASpG,OAAS,GAAGM,KAAI,SAAA+F,GAAC,OAAI,gBAAC,EAAD,CAAS/C,IAAK+C,EAAG5E,EAAGS,EAAMT,EAAGF,EL5BvD,GK4B+E8E,EAAIJ,SACzG/D,EAAMkE,SAAS9F,KAAI,SAACgG,EAAOC,GAC1B,IAAMC,EL9Be,GK8BaD,EAAWN,IAC7C,OAAOK,EAAMhG,KACX,SAACmG,EAAYC,GACX,IAAMtF,EAAQoF,EAAOE,EAAYR,EADR,EAEYO,EAAW9D,MAAM,KACnDrC,KAAI,SAAAqG,GAAC,OAAIA,EAAEC,UACXC,QAAO,SAACC,EAAKC,GACZ,GAAIA,EAAK,GAAI,CACX,GAAIA,EAAK,KAAOA,EAAK,GAAGC,cAEtB,OAAO,eAAKF,EAAZ,CAAiB3F,MAAO4F,IAErB,GAAIA,EAAK,KAAOA,EAAK,GAAGlE,cAE3B,OAAO,eAAKiE,EAAZ,CAAiBlB,SAAUmB,EAAK,GAAI1G,QAAS0G,EAAKE,OAAO,KAG7D,OAAOH,IAEP,CACElB,SAAU,GACVvF,QAAS,GACTc,MAAO,KAlBLyE,EAFiB,EAEjBA,SAAUvF,EAFO,EAEPA,QAASc,EAFF,EAEEA,MAqB3B,OACE,gBAAC,WAAD,CAAgBmC,IAAKoD,GACnB,gBAAC,EAAD,CAAOvF,MAAOA,EAAOC,MAAOA,EAAOC,OAAQa,EAAMT,EAAGH,MAAO4E,IAC3D,gBAAC,EAAD,eAAMN,SAAUA,GAAc,CAC5BA,WACAvF,UACAkB,EAAGH,EACHK,EAAGS,EAAMT,EACTH,MAAO4E,cCtDnBxE,EAA2B,CAC/Ba,OAAQ,QACRyD,MAAO,GAGHkB,EAAepF,gBAAgCJ,GAExCc,EAAW,kBAAMR,qBAAWkF,IAE5BC,EAAQ,SAAC,GAKf,IALiBC,EAKlB,EALkBA,MAAO7E,EAKzB,EALyBA,OAAQ+D,EAKjC,EALiCA,MAAON,EAKxC,EALwCA,MAMpCrE,EAAiBI,IAAjBJ,aACF0F,EAAa,CACjB9E,OAAM,OAAEA,QAAF,IAAEA,IAAUb,EAAaa,OAC/ByD,MAAK,OAAEA,QAAF,IAAEA,IAAStE,EAAasE,OAEzBsB,EAAgBhB,EAAM3D,MAAM,KAAKrC,KAAI,SAAAqG,GAAC,OAAIA,EAAEC,UAC/CC,QACC,SAACC,EAAmBS,EAAMb,GACxB,IAAMH,EAAWvB,KAAKwC,MAAMd,EAAYW,EAAWrB,OAC7CyB,EAAiBf,EAAYW,EAAWrB,MACxC0B,EAAa1C,KAAKwC,MAAMjB,EAAW5E,GACnCgG,EAAkBpB,EAAW5E,EAWnC,OATKmF,EAAIY,KACPZ,EAAIY,GAAc,IAGfZ,EAAIY,GAAYC,KACnBb,EAAIY,GAAYC,GAAmB,IAGrCb,EAAIY,GAAYC,GAAiBF,GAAkBF,EAC5CT,IAET,IAGEc,EAAc,GNjDsBC,GMiDwCP,EAActH,OAEhG,OACE,gBAACkH,EAAa/E,SAAd,CAAuBC,MAAOiF,GAC5B,0BAAKD,GACL,yBAAI7E,GACJ,uBAAKjB,MN3DU,IM2DawG,OAAQF,GACjCN,EAAchH,KACb,SAAC8F,EAAUsB,GACT,OACE,gBAAC,EAAD,CAAOpE,IAAKoE,EAAYjG,EAAG,GN3DGoG,GM2D2DH,EAAYtB,SAAUA,UC5DhH2B,EAAiB,kBAC5B,kBAAC,EAAD,CACEX,MAAM,qBACNd,MAAK,ohBAoBI0B,EAAiB,kBAC5B,kBAAC,EAAD,CACEZ,MAAM,qBACNd,MAAK,gjBAoBM,aAEb,OADA2B,qBAAU,WAAQC,SAASd,MAAQ,oBAAsB,IAEvD,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,QClDOe,EAA2B,kBACtC,kBAAC,EAAD,CACEf,MAAM,sBACNd,MAAK,qeAoBI8B,EAA6B,kBACxC,kBAAC,EAAD,CACEhB,MAAM,sCACNd,MAAK,uaAoBM,aAEb,OADA2B,qBAAU,WAAQC,SAASd,MAAQ,wBAA0B,IAE3D,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,QChBSiB,G,MA/BH,WAAO,IAAD,EACkBC,oBAAS,GAD3B,mBACT1G,EADS,KACE2G,EADF,KAEhB,OACE,kBAAC,IAAD,KACE,yBAAKC,UAAU,OACb,8BACE,kBAAC,IAAD,CAAMC,GAAG,gBAAT,uBADF,KAGE,kBAAC,IAAD,CAAMA,GAAG,oBAAT,mBAHF,KAKE,2BAAOC,KAAK,WAAWC,GAAG,YAAYC,QAAShH,EAAWiH,QAAS,kBAAMN,GAAc3G,MACvF,2BAAOkH,QAAQ,aAAf,eAEF,kBAAC,IAAD,KACE,kBAAC,EAAkB,CAAElH,aACnB,kBAAC,IAAD,CAAOmH,KAAK,gBACV,kBAACC,EAAD,OAEF,kBAAC,IAAD,CAAOD,KAAK,oBACV,kBAACE,EAAD,OAEF,kBAAC,IAAD,CAAOF,KAAK,KACV,kBAAC,IAAD,CAAUN,GAAG,wBClBPS,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFvB,SAASwB,eAAe,SDiIpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,c","file":"static/js/main.e2ebb16e.chunk.js","sourcesContent":["export const width = 800;\nexport const lineSpacing = 10;\nexport const padding = () => 5 * lineSpacing;\nexport const staveHeight = () => lineSpacing * 4;\nexport const staveHeightWithPadding = () => staveHeight() + padding();\nexport const staveWidth = () => width - padding() * 2;\nexport const defaultBarsPerStave = 4;\n// Accounts for font size and svg discrepancies.\nexport const textCharCentreOffset = {\n  x: -3.5,\n  y: 4\n};\n// Accounts for different widths of vertical and horizontal lines and ugly edges.\nexport const noteHorizontalLineAdjustment = 0.5;","export const range = (length: number) => Array.from(Array(length).keys());\n\nexport const getStringFrets = (strings: string) =>\n  range(5)\n    .map(stringIndex => ({ stringIndex, fret: (strings ?? [])[stringIndex] }))\n    .filter(({ fret }) => fret !== undefined && fret !== \" \")\n    .map(({ stringIndex, fret }) => {\n      if (isNaN(parseInt(fret))) {\n        const alphabet = \"abcdefghijklmnopqrst\";\n        const alphaIndex = alphabet.indexOf(fret);\n        if (alphaIndex !== -1) {\n          const doubleDigitFret = 10 + alphaIndex;\n          return { stringIndex, fret: doubleDigitFret.toString() };\n        }\n      }\n      return { stringIndex, fret };\n    });\n\nexport const getLowestStringIndex = (strings: string) => {\n  const stringFrets = getStringFrets(strings);\n\n  if (stringFrets.length === 0) {\n    return undefined;\n  }\n\n  return stringFrets[stringFrets.length - 1]?.stringIndex;\n};\n\nexport const getHighestStringIndex = (strings: string) => {\n  const stringFrets = getStringFrets(strings);\n\n  if (stringFrets.length === 0) {\n    return undefined;\n  }\n\n  return stringFrets[0]?.stringIndex;\n};\n\nexport const getNote = (tuning: string, stringIndex: number, fret: string) => {\n  const scale = \"a♭ a b♭ b c c# d e♭ e f f# g\".split(\" \");\n  const stringNote = tuning.toLowerCase().split(\"\").reverse()[stringIndex];\n  const stringNoteIndex = scale.indexOf(stringNote);\n  const fretIndex = parseInt(fret);\n\n  const fretNote = scale[(stringNoteIndex + fretIndex) % scale.length];\n\n  return fretNote;\n};","import * as React from \"react\";\nimport * as Settings from \"../settings\";\n\nexport const Chord = ({ chord, noteX, staveY, width }: {\n  chord: string,\n  noteX: number;\n  staveY: number;\n  width: number;\n}) => {\n  if (!chord) {\n    return null;\n  }\n  const x = noteX + width / 2 + chord.length * Settings.textCharCentreOffset.x;\n  const y = staveY - 1.5 * Settings.lineSpacing + Settings.textCharCentreOffset.y;\n  return (\n    <text {...{ x, y }}>{chord}</text>\n  )\n}","import * as React from \"react\";\nimport * as Settings from \"../settings\";\nimport { useContext } from \"react\";\n\ntype StyleState = {\n  barsPerStave: number;\n  showNotes: boolean;\n}\n\nconst defaultState: StyleState = {\n  barsPerStave: Settings.defaultBarsPerStave,\n  showNotes: false\n};\n\nconst StyleContext = React.createContext<StyleState>(defaultState);\n\nexport const useStyle = () => useContext(StyleContext);\n\nexport const StyleProvider: React.FunctionComponent<Partial<StyleState>> = props => (\n  <StyleContext.Provider value={{\n    ...defaultState,\n    ...props\n  }}>{props.children}</StyleContext.Provider>\n)","import * as React from \"react\";\nimport * as Settings from \"../settings\";\nimport * as Utils from \"../utils\";\nimport { useStyle } from \"./StyleProvider\";\nimport { useSheet } from \"./Sheet\";\n\nexport type NoteProps = {\n  strings: string;\n  x: number;\n  y: number;\n  width: number;\n};\n\nexport const SingleNote = ({ x, y, width, strings }: NoteProps) => {\n  const { tuning } = useSheet();\n  const { showNotes } = useStyle();\n  const stringFrets = Utils.getStringFrets(strings)\n    .map(({stringIndex, fret}) => {\n      if(showNotes){\n        const fretNote = Utils.getNote(tuning, stringIndex, fret);\n        return {stringIndex, fret: fret + fretNote};\n      }\n      return {stringIndex, fret};\n    });\n\n\n  const lowestStringIndex = Utils.getLowestStringIndex(strings) ?? 0;\n  const noteTailY1 = y + Settings.lineSpacing * (lowestStringIndex + .5)\n  const noteTailY2 = y + Settings.staveHeight() + Settings.lineSpacing;\n  const noteCentreX = x + width * .5;\n\n  return (\n    <>\n      {stringFrets\n        .map(({ stringIndex, fret }) => {\n          const noteX = noteCentreX + Settings.textCharCentreOffset.x * fret.length;\n          const noteY = y + stringIndex * Settings.lineSpacing + Settings.textCharCentreOffset.y;\n          return <text key={stringIndex} x={noteX} y={noteY}>{fret}</text>\n        })}\n      <line x1={noteCentreX} y1={noteTailY1} x2={noteCentreX} y2={noteTailY2} strokeWidth={1} stroke=\"black\" />\n    </>\n  );\n}\n\nexport const DoubleNote = (props: NoteProps) => {\n  const horizontalLineY = props.y + Settings.staveHeight() + Settings.lineSpacing;\n  const horizontalLineX1 = props.x + props.width * .25 - Settings.noteHorizontalLineAdjustment;\n  const horizontalLineX2 = props.x + props.width * .75 + Settings.noteHorizontalLineAdjustment;\n  const [strings1, strings2] = props.strings.split(\",\");\n  return (\n    <>\n      <SingleNote strings={strings1} width={props.width * .5} x={props.x} y={props.y} />\n      <SingleNote strings={strings2} width={props.width * .5} x={props.x + props.width * .5} y={props.y} />\n      <line x1={horizontalLineX1} y1={horizontalLineY} x2={horizontalLineX2} y2={horizontalLineY} strokeWidth={3} stroke=\"black\" />\n    </>\n  );\n}\n\nexport const BrushNote = (props: NoteProps) => <DoubleNote x={props.x} y={props.y} width={props.width} strings={props.strings + \",    0\"} />;\n\nexport const SlurNote = (props: NoteProps & {\n  label: string;\n}) => {\n  const [strings1, strings2] = props.strings.split(\",\");\n  const highestString1 = Utils.getHighestStringIndex(strings1) ?? 0;\n  const highestString2 = Utils.getHighestStringIndex(strings2) ?? 0;\n\n  const arcX1 = props.x + props.width * .25;\n  const arcX2 = props.x + props.width * .75;\n  const arcY1 = props.y + (highestString1 - 0.5) * Settings.lineSpacing;\n  const arcY2 = props.y + (highestString2 - 0.5) * Settings.lineSpacing;\n\n  const arcControlX1 = arcX1 + .5 * Settings.lineSpacing;\n  const arcControlX2 = arcX2 - .5 * Settings.lineSpacing;\n  const arcControlY1 = arcY1 - .5 * Settings.lineSpacing;\n  const arcControlY2 = arcY2 - .5 * Settings.lineSpacing;\n  const arcControlY = Math.min(arcControlY1, arcControlY2);\n\n  const labelLength = props.label.length;\n  const labelX = props.x + 0.5 * props.width + Settings.textCharCentreOffset.x * labelLength;\n  const labelY = props.y + Settings.staveHeight() + 2 * Settings.lineSpacing + Settings.textCharCentreOffset.y;\n\n  return (\n    <>\n      <DoubleNote x={props.x} y={props.y} width={props.width} strings={props.strings} />\n      <path d={`M ${arcX1} ${arcY1} C ${arcControlX1} ${arcControlY}, ${arcControlX2} ${arcControlY}, ${arcX2} ${arcY2}`} stroke=\"black\" strokeWidth={1} fill=\"transparent\" />\n      <text x={labelX} y={labelY}>{props.label}</text>\n    </>\n  );\n}\n\nexport const HammerOnNote = (props: NoteProps) => <SlurNote {...props} label=\"H\" />\n\nexport const PullOffNote = (props: NoteProps) => <SlurNote {...props} label=\"P\" />\n\nexport const SlideNote = (props: NoteProps) => <SlurNote {...props} label=\"SL\" />\n\nexport const Note = (props: NoteProps & { noteType: \"m\" | \"b\" | \"d\" | \"h\" | \"p\" | \"s\" | unknown }) => {\n  switch (props.noteType) {\n    case \"b\":\n      return <BrushNote {...props} />;\n    case \"h\":\n      return <HammerOnNote {...props} />;\n    case \"p\":\n      return <PullOffNote {...props} />;\n    case \"s\":\n      return <SlideNote {...props} />;\n    case \"m\":\n      return <SingleNote {...props} />;\n    case \"d\":\n      return <DoubleNote {...props} />\n    default:\n      return null;\n  }\n}","import * as React from \"react\";\nimport * as Settings from \"../settings\";\nimport * as Utils from \"../utils\";\nimport { Chord } from \"./Chord\";\nimport { Note } from \"./Notes\";\nimport { useStyle } from \"./StyleProvider\";\nimport { useSheet } from \"./Sheet\";\n\nconst BarLine = (props: {\n  x: number;\n  y: number;\n}) => <line x1={props.x} y1={props.y} x2={props.x} y2={props.y + Settings.staveHeight()} strokeWidth={1} stroke=\"black\" />\n\nconst StaveLine = (props: {\n  y: number\n  width: number\n}) => <line x1={Settings.padding()} y1={props.y} x2={Settings.padding() + props.width} y2={props.y} strokeWidth={1} stroke=\"black\" />\n\nexport const Stave = (props: {\n  y: number;\n  barNotes: string[][]\n}) => {\n  const { barsPerStave } = useStyle();\n  const { meter } = useSheet();\n  const barWidth = () => Settings.staveWidth() / barsPerStave;\n  const noteSpaceWidth = barWidth() / meter;\n  const staveWidth = barWidth() * props.barNotes.length;\n  return (\n    <>\n      {Utils.range(5).map(i => <StaveLine key={i} y={props.y + i * Settings.lineSpacing} width={staveWidth} />)}\n      {Utils.range(props.barNotes.length + 1).map(i => <BarLine key={i} y={props.y} x={Settings.padding() + i * barWidth()} />)}\n      {props.barNotes.map((notes, barIndex) => {\n        const barX = Settings.padding() + barIndex * barWidth();\n        return notes.map(\n          (noteString, noteIndex) => {\n            const noteX = barX + noteIndex * noteSpaceWidth;\n            const { noteType, strings, chord } = noteString.split(\":\")\n              .map(s => s.trim())\n              .reduce((acc, part) => {\n                if (part[0]) {\n                  if (part[0] === part[0].toUpperCase()) {\n                    //chord\n                    return { ...acc, chord: part };\n                  }\n                  else if (part[0] === part[0].toLowerCase()) {\n                    //note\n                    return { ...acc, noteType: part[0], strings: part.substr(1) };\n                  }\n                }\n                return acc;\n              },\n                {\n                  noteType: '',\n                  strings: '',\n                  chord: ''\n                });\n\n            return (\n              <React.Fragment key={noteIndex}>\n                <Chord chord={chord} noteX={noteX} staveY={props.y} width={noteSpaceWidth} />\n                <Note noteType={noteType} {...{\n                  noteType,\n                  strings,\n                  x: noteX,\n                  y: props.y,\n                  width: noteSpaceWidth\n                }} />\n              </React.Fragment>\n            )\n          }\n        )\n      })}\n    </>\n  )\n};","import * as React from \"react\";\nimport * as Settings from \"../settings\";\nimport { Stave } from \"./Stave\";\nimport { useStyle } from \"./StyleProvider\";\nimport { useContext } from \"react\";\n\ntype SheetState = {\n  tuning: string;\n  meter: number;\n}\n\nconst defaultState: SheetState = {\n  tuning: \"gDGBd\",\n  meter: 4\n};\n\nconst SheetContext = React.createContext<SheetState>(defaultState);\n\nexport const useSheet = () => useContext(SheetContext);\n\nexport const Sheet = ({ title, tuning, notes, meter }: {\n  title: string;\n  tuning?: string;\n  meter?: number;\n  notes: string;\n}) => {\n  const { barsPerStave } = useStyle();\n  const sheetState = {\n    tuning: tuning ?? defaultState.tuning, \n    meter: meter ?? defaultState.meter\n  };\n  const staveBarNotes = notes.split(\";\").map(s => s.trim())\n    .reduce(\n      (acc: string[][][], note, noteIndex) => {\n        const barIndex = Math.floor(noteIndex / sheetState.meter);\n        const noteIndexInBar = noteIndex % sheetState.meter;\n        const staveIndex = Math.floor(barIndex / barsPerStave);\n        const barIndexInStave = barIndex % barsPerStave;\n\n        if (!acc[staveIndex]) {\n          acc[staveIndex] = [];\n        }\n\n        if (!acc[staveIndex][barIndexInStave]) {\n          acc[staveIndex][barIndexInStave] = [];\n        }\n\n        acc[staveIndex][barIndexInStave][noteIndexInBar] = note;\n        return acc;\n      },\n      []\n    );\n\n  const sheetHeight = .5 * Settings.padding() + Settings.staveHeightWithPadding() * staveBarNotes.length;\n\n  return (\n    <SheetContext.Provider value={sheetState} >\n      <h1>{title}</h1>\n      <p>{tuning}</p>\n      <svg width={Settings.width} height={sheetHeight}>\n        {staveBarNotes.map(\n          (barNotes, staveIndex) => {\n            return (\n              <Stave key={staveIndex} y={.5 * Settings.padding() + Settings.staveHeightWithPadding() * staveIndex} barNotes={barNotes} />\n            )\n          }\n        )}\n      </svg>\n    </SheetContext.Provider >\n  )\n\n}","import React, { useEffect } from 'react';\nimport { Sheet } from '../components/Sheet';\n\nexport const HopHighLadies1 = () =>\n  <Sheet\n    title=\"Hop High Ladies v1\"\n    notes={`\n      G:h  0,  2;h 0, 1;m0;m  0;\n      s  2,  4;b0040;m 0;b0000;\n      h  0,  2;h 0, 1;m0;m  0;\n      D7:h  0,  2;b0120;m  2;b0120;\n      G:h  0,  2;h 0, 1;m0;m  0;\n      m 0;b0000;h 0, 1;m0;\n      C:m2;b2102;h0,2;b2102;\n      G:p 3, 0;m  0;D7:h  0,  2;b0120;\n\n      G:m  0;m5;p2,0;b0000;\n      s  2,  4;b0040;m 0;b0000;\n      m  0;m5;p2,0;b0000;\n      D7:h  0,  2;b0120;m  2;b0120;\n      G:m  0;m5;p2,0;b0000;\n      m 0;b0000;h 0, 1;m0;\n      C:m2;b2102;h0,2;b2102;\n      p 3, 0;m  0;D7:h  0,  2;b0120\n    `} />;\n\nexport const HopHighLadies2 = () =>\n  <Sheet\n    title=\"Hop High Ladies v2\"\n    notes={`\n        G:h  0,  2;h 0, 1;m0;b  0;\n        s  2,  4;b  4;m 0;b0;\n        h  0,  2;h 0, 1;m0;b  0;\n        D7:h  0,  2;d0, 1;m  2;m   0;\n        G:h  0,  2;h 0, 1;m0;b  0;\n        m 0;b0;h 0, 1;m0;\n        C:m2;d2, 1;h0,2;d2, 1;\n        G:p 3, 0;m  0;D7:h  0,  2;m   0;\n  \n        G:m  0;m5;p2,0;d 0,  0;\n        s  2,  4;b  4;m 0;b0;\n        m  0;m5;p2,0;d 0,  0;\n        D7:h  0,  2;d0, 1;m  2;m   0;\n        G:m  0;m5;p2,0;d 0,  0;\n        m 0;b0;h 0, 1;m0;\n        C:m2;d2, 1;h0,2;d2, 1;\n        p 3, 0;m  0;D7:h  0,  2;m   0\n      `} />;\n\nexport default () => {\n  useEffect(() => { document.title = \"Hop High Ladies\"; }, []);\n  return (\n    <>\n      <HopHighLadies1 />\n      <HopHighLadies2 />\n    </>\n  )\n};","import React, { useEffect } from 'react';\nimport { Sheet } from '../components/Sheet';\nimport { StyleProvider } from '../components/StyleProvider';\n\nexport const WorriedMansBluesOriginal = () =>\n  <Sheet\n    title=\"Worried Man's Blues\"\n    notes={`\n      G;;;m   0;\n      m   0;b0000;m   0;m   2;\n      m  0;b0000;b0000;m  0;\n      m 0;b0000;m 0;m  2;\n      m  0;b0000;m  0;m   0;\n      C:m   2;b2102;m  0;m   2;\n      m  0;b2102;m  0;m   2;\n      m  0;b2102;m  0;m   2;\n\n      G:m   0;b0000;b0000;m   0;\n      m   0;b0000;m   0;m   2;\n      m  0;b0000;b0000;m  0;\n      m 0;b0000;m 0;m  2;\n      m  0;b0000;m   4;m  0;\n      D7:m  2;b0120;b0120;m  2;\n      m 0;m  2;m  0;m   4;\n      G:m  0;b0000;m0000;\n    `} />;\n\nexport const WorriedMansBluesOctaveUpV1 = () =>\n  <Sheet\n    title=\"Worried Man's Blues (octave up v.1)\"\n    notes={`\n      G;;;m  7;\n      m  7;b987;m  7;m  9;\n      m 8;b987;b987;m 8;\n      m9;b987;m9;m a;\n      m 8;b987;m 8;m  7;\n      C:m  9;ba89;m 8;m  9;\n      m 8;ba89;m 8;m  9;\n      m 8;ba89;m 8;m  9;\n\n      G:m  7;b987;b987;m  7;\n      m  7;b987;m  7;m  9;\n      m 8;b987;b987;m 8;\n      m9;b987;m9;m a;\n      m 8;b987; m 7;m 8;\n      D7:m a;baa7;baa7;m a;\n      G:m9;m a;m 8;m 7;\n      m 8;b987;m987\n    `} />;\n\nexport default () => {\n  useEffect(() => { document.title = \"Worried Man's Blues\"; }, []);\n  return (\n    <>\n      <WorriedMansBluesOriginal />\n      <WorriedMansBluesOctaveUpV1 />\n    </>\n  )\n}","import React, { useState } from 'react';\nimport { Switch, Route, Redirect, HashRouter, Link } from 'react-router-dom';\nimport HopHighLadies from \"./tunes/HopHighLadies\";\nimport WorriedMansBlues from \"./tunes/WorriedMansBlues\";\nimport './App.css';\nimport { StyleProvider } from './components/StyleProvider';\n\n\nconst App = () => {\n  const [showNotes, setShowNotes] = useState(false);\n  return (\n    <HashRouter>\n      <div className=\"App\">\n        <span>\n          <Link to=\"/worried-man\">Worried Man's Blues</Link>\n          ::\n          <Link to=\"/hop-high-ladies\">Hop High Ladies</Link>\n          ::\n          <input type=\"checkbox\" id=\"showNotes\" checked={showNotes} onClick={() => setShowNotes(!showNotes)} />\n          <label htmlFor=\"showNotes\">Show Notes</label>\n        </span>\n        <Switch>\n          <StyleProvider {...{ showNotes }}>\n            <Route path=\"/worried-man\">\n              <WorriedMansBlues />\n            </Route>\n            <Route path=\"/hop-high-ladies\">\n              <HopHighLadies />\n            </Route>\n            <Route path=\"/\">\n              <Redirect to=\"/worried-man\" />\n            </Route>\n          </StyleProvider>\n        </Switch>\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}